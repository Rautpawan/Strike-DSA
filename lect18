#include<iostream>
#include<vector>
using namespace std;

bool allocateBook(int maxPages, vector<int> &arr, int k){
    
	// count: number of student, pages: abhi tak usko kitne pages mile hai
	int count = 1 , pages = arr[0];

	for(int i=1;i<arr.size();i++){
		pages+=arr[i];
		if(pages>maxPages){
			count++;
			pages = arr[i];
		}
	}

	return count <= k;
}


int findPages(vector<int> &arr, int k) {
    // Your code here

	int n = arr.size();

	if(k>n){
		return -1;
	}

	// array ka jo maximum hoga
	int start = 0;
	int end = 0, ans;
	for(int i=0;i<n;i++){
		start = max(start,arr[i]);
        end +=arr[i];
	}

    	while(start<=end){
		int mid = start+(end-start)/2;
        
		// left
		if(allocateBook(mid,arr,k)){
			ans = mid;
			end = mid-1;
		}
		else{
			start = mid+1;
		}
	}

	return ans;
}


bool isPaintingPossible(int maxPaint, vector<int>&arr, int k){
	int count = 1, paint= 0 , n= arr.size();
	for(int i=0; i<n; i++){
		paint+=arr[i];
		if(paint>maxPaint){
			count++;
			paint = arr[i];
		}
	}
	return count<=k;
}

//The Painter's Problem
int minTime(vector<int> &arr, int k) {
    // Your code here
	int n = arr.size();
	int start = 0, end=0, mid, ans;

	for(int i=0; i<n; i++){
		start = max(start, arr[i]);
		end +=arr[i];
	}

	while(start<=end){
		mid=start+(end-start)/2;
		if(isPaintingPossible(mid, arr, k)){
			ans=mid;
			end=mid-1;
		}
		else{
			start = mid+1;
		}
	}
	return ans;
}

//Koko banana eating 
bool ifPossible(int maxSpeed, vector<int>& piles, int h){
	int totalTime = 0;
	for(int i=0; i < piles.size(); i++){
		totalTime += piles[i]/maxSpeed;
		if(piles[i] % maxSpeed) {
			totalTime++;
		}
	}
	return totalTime<=h;
}

int minEatingSpeed(vector<int>& piles, int h) {
    // Your code here
	int n = piles.size();
	int start=1, end=0, ans, mid;

	for(int i=0; i< piles.size(); i++){
		end+=piles[i];
	}
	while(start<=end){
		mid = start+(end-start)/2;
		if(ifPossible(mid, piles, h)){
			ans=mid;
			end=mid-1;
		}
		else{
			start=mid+1;
		}
	}
	return ans;
}


// Safe Distance Allocation (Aggresive Cow )
bool allocationPossible(int minDist, vector<int> &stalls, int k){
	int count = 1, cowPosition=stalls[0];
	int n = stalls.size();
	for(int i=0; i<n; i++){
		if(stalls[i]-cowPosition >=minDist){
			count++;
			cowPosition= stalls[i];
		}
	}
	return count>=k;
}

int maxSafeDistance(vector<int> &stalls, int k) {
    // Your code here
	int n = stalls.size();
	int start = 1, end, ans, mid;
	sort(stalls.begin(), stalls.end());
	end = stalls[n-1]-stalls[0];

	while(start<=end){
		mid = start+(end-start)/2;
		if(allocationPossible(mid, stalls, k)){
			ans=mid;
			start = mid+1;
		}
		else{
			end= mid-1;
		}
	}
	return ans;
    
}
